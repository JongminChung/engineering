test:study:infra:
  stage: test
  variables:
    MODULE_PATH: ":study:infra"
  extends:
    - .run_module_tests
    - .test_and_integration_artifacts
  environment:
    name: "report/test-study-infra/$CI_PIPELINE_IID"
  rules:
    - changes:
        - study/**/*
        - build-logic/**/*
        - gradle/**/*
      when: on_success
    - when: never

test:study:coding-test:
  stage: test
  variables:
    MODULE_PATH: ":study:coding-test"
  extends:
    - .run_module_tests
    - .test_and_integration_artifacts
  environment:
    name: "report/test-study-coding-test/$CI_PIPELINE_IID"
  rules:
    - changes:
        - study/**/*
        - build-logic/**/*
        - gradle/**/*
      when: on_success
    - when: never

test:study:api-communication:
  stage: test
  variables:
    MODULE_PATH: ":study:api-communication"
  extends:
    - .run_module_tests
    - .test_and_integration_artifacts
  environment:
    name: "report/test-study-api-communication/$CI_PIPELINE_IID"
  rules:
    - changes:
        - study/**/*
        - build-logic/**/*
        - gradle/**/*
      when: on_success
    - when: never
